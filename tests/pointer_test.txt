typedef struct string {
    int   __attribute__((selfcall)) (*get_size)(struct string*);
    char* __attribute__((selfcall)) (*get_body)(struct string*);
    int   __attribute__((selfcall)) (*set_body)(struct string*, char*);
} string_t;

void foo() {
    string_t s;
    void* b = &s;

    ((string_t*)((int)b))->get_size();
    ((string_t*)((int)b))->get_size(b);

    s.get_size();
    s.get_size(&s);

    ((string_t*)b)->set_body("Hello world!");
    s.set_body("Hello world!");
    
}
